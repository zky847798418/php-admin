webpackJsonp([2],{790:function(e,a,t){var o=t(52)(t(794),t(800),null,null,null);e.exports=o.exports},794:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={name:"login",data:function(){return{loginModal:!0,modal_loading:!1,formValidate:{name:"",password:""},ruleValidate:{name:[{required:!0,message:"姓名不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}]}}},methods:{handleSubmit:function(e){var a=this;this.$refs[e].validate(function(e){e&&(a.modal_loading=!0,a.$api.login(a.formValidate).then(function(e){"success"===e?(a.$Message.success("登陆成功"),localStorage.token=a.formValidate.password,a.$router.push("/index")):(a.modal_loading=!1,a.$Message.error("登陆失败"),a.$Notice.warning({title:"登录提示",desc:"用户名或密码错误",duration:2}))}))})}}}},800:function(e,a){e.exports={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"login"},[t("div",{staticClass:"bg"}),e._v(" "),t("Modal",{staticClass:"login-modal",attrs:{width:"360","class-name":"vertical-center-modal",closable:!1,"mask-closable":!1},model:{value:e.loginModal,callback:function(a){e.loginModal=a},expression:"loginModal"}},[t("div",[t("h2",{staticStyle:{margin:"10px",color:"#5cadff","text-align":"center"}},[t("span",[e._v("苏州衡量贸易有限公司")])]),e._v(" "),t("Form",{ref:"formValidate",attrs:{model:e.formValidate,rules:e.ruleValidate}},[t("Form-item",{attrs:{prop:"name"}},[t("Input",{attrs:{placeholder:"请输入姓名"},model:{value:e.formValidate.name,callback:function(a){e.$set(e.formValidate,"name",a)},expression:"formValidate.name"}})],1),e._v(" "),t("Form-item",{attrs:{prop:"password"}},[t("Input",{attrs:{type:"password",placeholder:"请输入密码"},nativeOn:{keyup:function(a){if(!("button"in a)&&e._k(a.keyCode,"enter",13,a.key))return null;e.handleSubmit("formValidate")}},model:{value:e.formValidate.password,callback:function(a){e.$set(e.formValidate,"password",a)},expression:"formValidate.password"}})],1)],1)],1),e._v(" "),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("Button",{attrs:{type:"primary",size:"large",long:"",loading:e.modal_loading},on:{click:function(a){e.handleSubmit("formValidate")}}},[e._v("登录")])],1)])],1)},staticRenderFns:[]}}});
//# sourceMappingURL=2.ea1c8d4c57b9e70c5cbe.js.map